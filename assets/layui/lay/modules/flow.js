/** layui-v2.3.0 MIT License By https://www.layui.com */
 ;layui.define("jquery",function(e){"use strict";var t=layui.$,o=function(e){},i='<i class="layui-anim layui-anim-rotate layui-anim-loop layui-icon ">&#xe63e;</i>';o.prototype.load=function(e){var o,l,n,r,a=this;this.page=0,e=e||{};var c=t(e.elem);if(c[0]){var m=t(e.scrollElem||document),s=e.mb||50,f=!("isAuto"in e)||e.isAuto,u=e.end||"没有更多了",h=e.scrollElem&&e.scrollElem!==document,p="<cite>加载更多</cite>",v=t('<div class="layui-flow-more"><a href="javascript:;">'+p+"</a></div>");this.more=v,this.elem=c,c.find(".layui-flow-more")[0]||c.append(v);var y=function(e,i){e=t(e),v.before(e),i=0==i||null,i?v.html(u):v.find("a").html(p),l=i,o=null,n&&n()},d=function(){o=!0,v.find("a").html(i),"function"==typeof e.done&&e.done(++a.page,y)};if(this.doneEvent=d,d(),v.find("a").on("click",function(){t(this);l||o||d()}),e.isLazyimg)var n=a.lazyimg({elem:e.elem+" img",scrollElem:e.scrollElem});return f?(m.on("scroll",function(){var e=t(this),i=e.scrollTop();r&&clearTimeout(r),l||(r=setTimeout(function(){var l=h?e.height():t(window).height(),n=h?e.prop("scrollHeight"):document.documentElement.scrollHeight;n-i-l<=s&&(o||d())},100))}),a):a}},o.prototype.setPage=function(e){this.page=e,0==e&&this.elem.html(this.more),this.doneEvent()},o.prototype.lazyimg=function(e){var o,i=this,l=0;e=e||{};var n=t(e.scrollElem||document),r=e.elem||"img",a=e.scrollElem&&e.scrollElem!==document,c=function(e,t){var o=n.scrollTop(),r=o+t,c=a?function(){return e.offset().top-n.offset().top+o}():e.offset().top;if(c>=o&&c<=r&&!e.attr("src")){var s=e.attr("lay-src");layui.img(s,function(){var t=i.lazyimg.elem.eq(l);e.attr("src",s).removeAttr("lay-src"),t[0]&&m(t),l++})}},m=function(e,o){var m=a?(o||n).height():t(window).height(),s=n.scrollTop(),f=s+m;if(i.lazyimg.elem=t(r),e)c(e,m);else for(var u=0;u<i.lazyimg.elem.length;u++){var h=i.lazyimg.elem.eq(u),p=a?function(){return h.offset().top-n.offset().top+s}():h.offset().top;if(c(h,m),l=u,p>f)break}};if(m(),!o){var s;n.on("scroll",function(){var e=t(this);s&&clearTimeout(s),s=setTimeout(function(){m(null,e)},50)}),o=!0}return m},e("flow",new o)});