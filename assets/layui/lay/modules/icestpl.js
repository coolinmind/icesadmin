/** layui-v2.3.0 MIT License By https://www.layui.com */
 ;!function(e,t){"function"==typeof define&&(define.amd||define.cmd)?define(t):"function"==typeof require&&"object"==typeof exports?module.exports=t(require,exports,module):e.icestpl=e.icestpl||t()}(this,function(e,t,n){"use strict";function r(e){return new r.fn.init(e)}var i="1.0.0";return r.fn=r.prototype={constructor:r,init:function(e){return this.cache={},this.version=i,this.options=this._extend({base:"",openTag:"<?",closeTag:"?>",library:"umd",strict:!0,map:function(e){return e},beforeCompile:function(e){return e},afterCompile:function(e){return e}},e),this}},r.fn.init.prototype=r.fn,String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=this.length;for(t|=0,t<0&&(t=Math.max(0,n+t));t<n;t++)if(t in this&&this[t]===e)return t;return-1}),r.prototype.config=function(e){return e?(this._extend(this.options,e),this):this.options},r.prototype._extend=function(e,t){var n=Object.prototype.hasOwnProperty;t=t||{};for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e},r.prototype._template=function(e,t,n){var r="";if(["umd","amd","cmd","commonjs","node","var","es"].indexOf(this.options.library)===-1)throw new Error("库使用错误(library option invalid): "+this.options.library);return n&&(r+=n+"\n"),r+="(function(root, factory) {\n  if (typeof define === 'function' && (define.amd || define.cmd)) {\n    if(typeof callback === 'function' && typeof iife !== 'undefined' && iife === true) {\n      var module_id = 'icestpl_' + Math.random();\n      define(module_id, factory);\n      if(define.amd) {\n        require([module_id], callback);\n      } else if(define.cmd) {\n        seajs.use([module_id], callback);\n      } else {\n        throw new Error('icestpl cannot guess what the define means.');\n      }\n    } else {\n      define(factory);\n    }\n  } else if(typeof require === 'function' && typeof exports === 'object') {\n    module.exports = factory(require, exports, module);\n  } else {\n    if(root.icestpl) {\n      var result = factory();\n      if(typeof callback === 'function' && typeof iife !== 'undefined' && iife === true) {        callback(result);\n      } else {\n        var url = root.icestpl.getCurrentScript();\n        if(url) {\n          root.icestpl.cache[url] = result;\n        }\n      }\n      return result;\n    } else {\n      throw new Error('icestpl not found.');\n    }\n  }\n}(this, function (require, exports, module) {\n"+(this.options.strict?"  'use strict';\n":"")+"  function IcesTpl() {\n    this.version = '"+i+"';\n    this.tpls = {};\n    this.scripts = {};\n    this.datas = {};\n    this._initTpls()._initScripts();\n    return this;\n  }\n  IcesTpl.prototype._generate = function() {\n    return Math.random().toString().replace('.', '');\n  };\n  IcesTpl.prototype._initTpls = function() {\n    var $ICESTPL = this;\n    this.tpls = {\n      "+e.join(",")+"\n    };\n    return $ICESTPL;\n  };\n  IcesTpl.prototype._initScripts = function() {\n    var $ICESTPL = this;\n    this.scripts = {\n      "+t.join(",")+"\n    };\n    return $ICESTPL;\n  };\n  IcesTpl.prototype.duid = function() {\n    return 'icestpl_d_' + this._generate();\n  };\n  IcesTpl.prototype.guid = function() {\n    return 'icestpl_g_' + this._generate();\n  };\n  IcesTpl.prototype.escapeHtml = function(html) {\n    return html.toString().replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n  };\n  IcesTpl.prototype.render = function(data, guid) {\n    return this.tpls.main(data, guid || this.guid());\n  };\n  return {\n    render: function(data) {\n      return new IcesTpl().render(data);\n    }\n  };\n}));\n"},r.prototype._split=function(e,t,n){if("[object RegExp]"!==Object.prototype.toString.call(t))return e.split(t,n);var r,i,o,c,s=[],a=0,p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":""),u=void 0===/()??/.exec("")[1];if(t=new RegExp(t.source,p+"g"),e+="",u||(r=new RegExp("^"+t.source+"$(?!\\s)",p)),void 0===n||+n<0)n=1/0;else if(n=Math.floor(+n),!n)return[];for(;(i=t.exec(e))&&(o=i.index+i[0].length,!(o>a&&(s.push(e.slice(a,i.index)),!u&&i.length>1&&i[0].replace(r,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(i[e]=void 0)}),i.length>1&&i.index<e.length&&Array.prototype.push.apply(s,i.slice(1)),c=i[0].length,a=o,s.length>=n)));)t.lastIndex===i.index&&t.lastIndex++;return a===e.length?!c&&t.test("")||s.push(""):s.push(e.slice(a)),s.length>n?s.slice(0,n):s},r.prototype._fetch=function(e){var t={},n=/<script\b[^>]*>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/gim,r=/<style\b[^>]*>([^<]*(?:(?!<\/style>)<[^<]*)*)<\/style>/gim,i=function(e){var n={},r=/<template(?:.*name=['"]([^'"]+)*)?\b[^>]*>([^<]*(?:(?!<\/template>)<[^<]*)*)<\/template>/gim,i=e.replace(r,function(e,t,r){return t&&(n[t]=r),""});return n.main?t.__libs=i.trim():n.main=e,n};e=e.replace(/<!--[\w\W\r\n]*?-->/g,"");var o=i(e);for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)){var s="",a="",p=o[c];p&&("node"!==this.options.library&&(p=p.replace(r,function(e,t){return s+="\n"+t,""}).replace(n,function(e,t){return a+="\n"+t,""})),t[c]={css:this._css(s.trim(),c),html:this._html(p.trim(),c),js:this._js(a.trim(),c)})}return t},r.prototype._css=function(e,t){if(e){var n,r="####SGUID####",i=new RegExp(r,"g"),o=new RegExp("\\$ROOT","g");return n="main"===t?"guid":"guid + duid",e=e.replace(/\/\*(.|\n)*?\*\/|\r?\n/gi,"").replace(/(^|\}|\s+)([a-zA-Z0-9_\-#*\.:\s,\(\)'"<>=\$]*)(\{)/g,function(e,t,n,i){return o.test(n)?(n=n.replace(o,""),t+r+n+i):t+r+" "+n+i}).replace(/\r?\n/g,"").replace(/'/g,"\\'").replace(i,"#' + "+n+" + '")}return e},r.prototype._js=function(e,t){if(e){for(var n=this._split(e,/\r?\n/g),r=0;r<n.length;r++)n[r]&&(n[r]=n[r].replace(/(^|[^\.])include\(([^\)]*)\)/gi,function(e,t,n){var r=(n||"").split(",").map(function(e){return e.trim()});return t+"$TPLS["+r[0]+"]("+(r.length>1?r[1]:"$DATA")+", guid)"}));e=n.join("\n")}return e},r.prototype._html=function(e,t){if(e){var n,r=function(e){return e.replace(/([\$\(\)\*\+\.\[\]\?\\\^\{\}\|])/g,"\\$1")},i=r(this.options.openTag),o=r(this.options.closeTag);n=this._split(e,new RegExp("("+i+"[\\s\\S]*?"+o+")"));for(var c=0;c<n.length;c++)if(n[c]){var s=new RegExp(i+"([\\s\\S]*?)"+o,"igm");if(s.test(n[c])){if(n[c]=n[c].replace(s,"$1"),n[c]=this.options.map(n[c]),n[c]=n[c].replace(/@([a-zA-Z\$_]+)/gim,"$DATA.$1"),n[c]=n[c].replace(/echo\s+(.*?);/gim,"    _ += $1 || '';\n"),0===n[c].indexOf("=")){var a,p=!0;if(n[c]=n[c].substring(1).trim(),0===n[c].indexOf("=")&&(p=!1,n[c]=n[c].substring(1).trim()),a=p?"$ICESTPL.escapeHtml("+n[c]+")":"("+n[c]+")",/^\d/.test(n[c]))n[c]="    _ += "+a+";\n";else{var u=(/^(\(*)([a-zA-Z\d_\$\s\.]+)/.exec(n[c])||[0,0,""])[2];""!==u?n[c]="    if (typeof "+u+" !== 'undefined') {\n      _ += "+a+";\n    }\n":n[c]="    _ += "+a+";\n"}}}else n[c]="\n    _ += '"+n[c].replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\r\n/g,"\n").replace(/\n/g,"\\n")+"';\n"}e=n.join(""),e=e.replace(/\$ROOT/gim,"'+ guid +'"),e=e.replace(/\$SUBROOT/gim,"'+ guid + duid +'")}return e=this.options.strict?"try {\n"+e.trim()+"\n} catch(e){ console.log(e, e.stack); }\n":"try {\nwith($DATA) {\n"+e.trim()+"\n}\n} catch(e){ console.log(e, e.stack); }\n"},r.prototype.compile=function(e){var t;return e=this.options.beforeCompile(e),t=this._compile(this._fetch(e)),t=this.options.afterCompile(t)},r.prototype._compile=function(e){var t,n="",r=[],i=[];for(var o in e){var c;Object.prototype.hasOwnProperty.call(e,o)&&"__libs"!==o&&(c="",c+='  "'+o+'": function($DATA, guid){\n',c+="    var _ = '';\n",c+="    var duid = $ICESTPL.duid();\n",c+="    guid = guid || $ICESTPL.guid();\n",e[o].css&&(c+="    _ += '<style>"+e[o].css+"</style>';\n"),e[o].html&&(c+=e[o].html),c+="    if($DATA){\n",c+="     $ICESTPL.datas[duid] = $DATA;\n",c+="    }\n",e[o].js&&(c+="    (function(scripts){\n",c+="      var cache = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : {};\n",c+="      cache._icestpl_ = cache._icestpl_ || {};\n",c+="      cache._icestpl_[guid + '-'+ duid] = scripts['"+o+"'];\n",c+="    })($ICESTPL.scripts);\n",c+="    _ += '<script>\\n';\n",c+="    _ += '(function(){\\n';\n",c+="    _ += '  var cache = typeof window !== \\'undefined\\' ? window : typeof global !== \\'undefined\\' ? global : {};\\n';\n",c+="    _ += '  cache._icestpl_[\\'' + guid + '-' + duid + '\\'](\\'' + guid + '\\', \\'' + duid + '\\');\\n';\n",c+="    _ += '  delete cache._icestpl_[\\'' + guid + '-' + duid + '\\'];\\n';\n",c+="    _ += '})();\\n';\n",c+="    _ += '</script>\\n';\n"),c+="    return _;\n",c+="  }",r.push(c),e[o].js&&(c="",c+='  "'+o+'": function(guid, duid){\n',c+="var ROOT = document.getElementById(guid);\n",c+="var SUBROOT = document.getElementById(guid + duid);\n",c+="var $TPLS = $ICESTPL.tpls;\n",c+="var $DATA = $ICESTPL.datas[duid];\n",c+=e[o].js,c+="  }",i.push(c)))}return t=e.__libs||"",n=this._template(r,i,t)},r.prototype.render=function(e,t,n){"function"==typeof t&&(n=t,t={});var r="return "+this.compile(e);new Function("iife","callback",r)(!0,function(e){n&&n(t===!1?e:e.render(t))})},r.prototype.getCurrentScript=function(){if("undefined"==typeof document)return"";if(document.currentScript)return document.currentScript.src;var e;try{a.b.c()}catch(t){e=t.stack,!e&&window.opera&&(e=(String(t).match(/of linked script \S+/g)||[]).join(" "))}if(e)return e=e.replace(/(at Global code \([^\)]+\))[\s\S]*/i,"$1"),e=e.split(/[@ ]/g).pop(),e="("===e[0]?e.slice(1,-1):e,e.replace(/(:\d+)?:\d+\s*$/i,"");for(var n,r=document.getElementsByTagName("script"),i=0;n=r[i++];)if("interactive"===n.readyState)return n.className=n.src,n.className},r.prototype._load=function(e,t){var n=this,r=document.getElementsByTagName("script")[0],i=document.createElement("script");return i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||(this.onreadystatechange=null,t&&t.call(n))}:i.onload=function(){t&&t.call(n)},i.src=e,r.parentNode.insertBefore(i,r),this},r.prototype._ajax=function(e,t){var n,r={url:e,type:"get",async:!0,data:"",success:t};try{n=new XMLHttpRequest}catch(i){try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(i){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(i){return!1}}}return n.onreadystatechange=function(){4===n.readyState&&200===n.status&&r.success.call(n,n.responseText)},n.open(r.type,r.url,r.async),n.send(r.data),this},r.prototype.get=function(t,n,r){var i=this,o=!1,c=document.createElement("a");if(/^(http|\/{2})/.test(t)||(t=i.options.base+t),c.href=t,t=c.href,"function"==typeof n&&(r=n,n={}),t=t.replace(/([^\?#]+)/,function(e,t){return/(\.[a-zA-Z\d]{2,4}|\/)$/.test(t)||(t+=".js"),/\.js$/.test(t)&&(o=!0),t}),o){var s=function(e){var o;i.cache[t]=i.cache[t]||e,o=i.cache[t],"function"==typeof r&&o&&r(n===!1?o:o.render(n))};if(i.cache[t])s();else if("function"==typeof define)if(define.amd)e([t],s);else{if(!define.cmd||"object"!=typeof seajs)throw new Error("[icestpl] cannot guess what the define means.");seajs.use([t],s)}else i._load(t,s)}else i._ajax(t,function(e){"function"==typeof r&&i.render(e,n,r)})},r.prototype.exec=function(e){for(var t,n=/<script\b[^>]*>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/gim;t=n.exec(e);)new Function(t[1])();return this},new r});